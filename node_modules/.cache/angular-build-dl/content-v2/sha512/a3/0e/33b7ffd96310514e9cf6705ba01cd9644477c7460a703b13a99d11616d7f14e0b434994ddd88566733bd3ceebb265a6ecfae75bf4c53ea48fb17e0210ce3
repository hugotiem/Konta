(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{xhSr:function(t,i,e){"use strict";e.r(i),e.d(i,"EditPageModule",(function(){return p}));var n=e("ofXK"),o=e("3Pt+"),b=e("TEn/"),s=e("tyNb"),l=e("mrSG"),r=e("9ybx"),a=e("fXoL"),c=e("Sy1n");function m(t,i){if(1&t&&(a.Lb(0,"ion-item",9),a.Lb(1,"ion-label"),a.ic(2,"Prix \xe0 l'achat :"),a.Kb(),a.Lb(3,"ion-note",11),a.ic(4),a.Kb(),a.Kb()),2&t){const t=a.Vb();a.yb(4),a.lc(" \u20ac",(t.item.firstPrice-0).toFixed(2)," x ",t.item.quantite," ")}}function u(t,i){if(1&t&&(a.Lb(0,"ion-item",9),a.Lb(1,"ion-label"),a.ic(2,"Distance :"),a.Kb(),a.Lb(3,"ion-note",11),a.ic(4),a.Kb(),a.Kb()),2&t){const t=a.Vb();a.yb(4),a.kc(" ",t.item.km," km ")}}function d(t,i){if(1&t&&(a.Lb(0,"ion-item",9),a.Lb(1,"ion-label"),a.ic(2,"Nom du client :"),a.Kb(),a.Lb(3,"ion-note",11),a.ic(4),a.Kb(),a.Kb()),2&t){const t=a.Vb();a.yb(4),a.kc(" ",t.item.clientName," ")}}const f=[{path:"",component:(()=>{class t{constructor(t,i,e,n){this.navCtrl=t,this.modalController=i,this.app=e,this.route=n,this.item=[],this.infoProduit=[],this.infoFormule=[],this.afDB=this.app.afDB,this.route.queryParams.subscribe(t=>{this.item=t.item,this.infoProduit=t.infoProduit,this.infoFormule=t.infoFormule})}ngOnInit(){}goBack(){this.navCtrl.navigateBack("tabs/tab3")}getType(t){return"partiel"==t?"Partielle":"prodOnly"==t?"Produit seul":"Compl\xe8te"}addNewExpModal(){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:r.a,componentProps:{afDB:this.afDB,isAlreadyHere:!0,key:this.item.key,title:this.item.title,price:this.item.price,firstPrice:this.item.firstPrice,name:this.item.name,date:this.item.date,km:this.item.km,quantite:this.item.quantite,type:this.item.type},cssClass:"my-custom-class"});return t.onWillDismiss().then(t=>{(t=t.data).save&&(this.item.title=t.title,this.item.price=t.price,this.item.firstPrice=t.firstPrice,this.item.name=t.name,this.item.km=t.km,this.item.quantite=t.quantite,this.item.clientName=t.clientName,this.item.type=t.type)}),yield t.present()}))}delete(){if(0!=this.infoFormule.length)for(let t of Object.keys(this.infoFormule))this.afDB.object("produits/"+this.infoFormule[t].tab.key+"/stock/").set(this.infoFormule[t].tab.quantite+this.infoFormule[t].quantite);else null!=this.infoProduit&&this.afDB.object("produits/"+this.infoProduit[0].key+"/stock/").set(this.infoProduit[0].quantite+this.item.quantite);this.afDB.list("Livraisons/").remove(this.item.key),this.goBack()}}return t.\u0275fac=function(i){return new(i||t)(a.Ib(b.X),a.Ib(b.W),a.Ib(c.a),a.Ib(s.a))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-edit"]],decls:40,vars:10,consts:[[2,"--border-style","none"],["slot","start","fill","clear",2,"--padding-start","0",3,"click"],["size","large","name","chevron-back"],["slot","end","fill","clear",3,"click"],["lines","none"],[2,"text-align","center"],[2,"font-size","20pt","font-weight","bold"],[2,"--padding-end","0"],["slot","end","readonly","","displayFormat","MM/DD/YYYY",2,"text-align","end",3,"value"],["lines","full"],["lines","full",4,"ngIf"],["slot","end",2,"text-align","right"],["lines","full","fill","clear","expand","full",3,"click"],["color","danger"]],template:function(t,i){1&t&&(a.Lb(0,"ion-header"),a.Lb(1,"ion-toolbar",0),a.Lb(2,"ion-button",1),a.Tb("click",(function(){return i.goBack()})),a.Jb(3,"ion-icon",2),a.Kb(),a.Lb(4,"ion-button",3),a.Tb("click",(function(){return i.addNewExpModal()})),a.Lb(5,"ion-label"),a.ic(6,"Edit"),a.Kb(),a.Kb(),a.Kb(),a.Lb(7,"ion-list",4),a.Lb(8,"ion-item",5),a.Lb(9,"ion-label",6),a.ic(10),a.Kb(),a.Kb(),a.Lb(11,"ion-item"),a.Lb(12,"ion-title"),a.ic(13),a.Kb(),a.Kb(),a.Lb(14,"ion-item",7),a.Lb(15,"ion-label"),a.ic(16,"Livr\xe9 par "),a.Lb(17,"strong"),a.ic(18),a.Kb(),a.Kb(),a.Jb(19,"ion-datetime",8),a.Kb(),a.Jb(20,"ion-item-divider",9),a.hc(21,m,5,2,"ion-item",10),a.hc(22,u,5,1,"ion-item",10),a.Lb(23,"ion-item",9),a.Lb(24,"ion-label"),a.ic(25,"Quantit\xe9 :"),a.Kb(),a.Lb(26,"ion-note",11),a.ic(27),a.Kb(),a.Kb(),a.hc(28,d,5,1,"ion-item",10),a.Lb(29,"ion-item"),a.Lb(30,"ion-label"),a.ic(31,"Type de livraison :"),a.Kb(),a.Lb(32,"ion-note",11),a.ic(33),a.Kb(),a.Kb(),a.Jb(34,"ion-item-divider"),a.Lb(35,"section"),a.Lb(36,"ion-button",12),a.Tb("click",(function(){return i.delete()})),a.Lb(37,"ion-label",13),a.ic(38,"Supprimer item"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Jb(39,"ion-content")),2&t&&(a.yb(10),a.kc(" ",i.item.title," "),a.yb(3),a.lc("\u20ac",(i.item.price-0).toFixed(2)," (x",i.item.quantite,") "),a.yb(5),a.jc(i.item.name),a.yb(1),a.Zb("value",i.item.date),a.yb(2),a.Yb("ngIf","partiel"!=i.item.type),a.yb(1),a.Yb("ngIf","prodOnly"!=i.item.type),a.yb(5),a.kc(" ",i.item.quantite," "),a.yb(1),a.Yb("ngIf","prodOnly"!=i.item.type),a.yb(5),a.kc(" ",i.getType(i.item.type)," "))},directives:[b.p,b.T,b.d,b.q,b.z,b.A,b.t,b.R,b.l,b.cb,b.u,n.i,b.C,b.k],styles:["ion-item.ion-activated[_ngcontent-%COMP%]{--background-activated:none}"]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(f)],s.i]}),t})(),p=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(i){return new(i||t)},imports:[[n.b,o.a,b.U,h]]}),t})()}}]);