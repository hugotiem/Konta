(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"9ybx":function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var i=n("mrSG"),o=n("fXoL"),a=n("TEn/"),s=n("ofXK");function c(t,e){if(1&t){const t=o.Mb();o.Lb(0,"ion-item",3),o.Tb("click",(function(){o.dc(t);const n=e.$implicit;return o.Vb().close(n)})),o.Lb(1,"ion-label"),o.ic(2),o.Kb(),o.Kb()}if(2&t){const t=e.$implicit;o.yb(2),o.kc(" ",t.title," ")}}let l=(()=>{class t{constructor(t){this.modalctrl=t,this.items=[]}ngOnInit(){this.getTitleInFirebase()}close(t){setTimeout(()=>{null!==t?this.modalctrl.dismiss({title:t.title,price:t.price,firstPrice:t.firstPrice}):this.modalctrl.dismiss()},200)}getTitleInFirebase(){this.afDB.list("produits/").snapshotChanges(["child_added","child_removed","child_changed"]).subscribe(t=>{this.items=[],t.forEach(t=>{this.items.push({title:t.payload.exportVal().name,price:t.payload.exportVal().price,firstPrice:t.payload.exportVal().firstPrice})})})}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(a.W))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-items"]],inputs:{afDB:"afDB"},decls:12,vars:1,consts:[["fill","clear","slot","start",3,"click"],["disabled","","animated","","showCancelButton","focus"],["button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",3,"click"]],template:function(t,e){1&t&&(o.Lb(0,"ion-header"),o.Lb(1,"ion-toolbar"),o.Lb(2,"ion-button",0),o.Tb("click",(function(){return e.close(null)})),o.Lb(3,"ion-label"),o.ic(4,"Cancel"),o.Kb(),o.Kb(),o.Lb(5,"ion-title"),o.ic(6,"Selectionner produit"),o.Kb(),o.Kb(),o.Lb(7,"ion-toolbar"),o.Jb(8,"ion-searchbar",1),o.Kb(),o.Kb(),o.Lb(9,"ion-content"),o.Lb(10,"ion-list"),o.hc(11,c,3,1,"ion-item",2),o.Kb(),o.Kb()),2&t&&(o.yb(11),o.Yb("ngForOf",e.items))},directives:[a.r,a.T,a.e,a.A,a.S,a.K,a.db,a.m,a.B,s.h,a.v],styles:[""]}),t})();function r(t,e){if(1&t){const t=o.Mb();o.Lb(0,"ion-item",2),o.Tb("click",(function(){o.dc(t);const n=e.$implicit;return o.Vb().dissmis(n)})),o.Lb(1,"ion-label"),o.ic(2),o.Kb(),o.Kb()}if(2&t){const t=e.$implicit;o.yb(2),o.kc(" ",t," ")}}let b=(()=>{class t{constructor(t){this.popoverCtrl=t,this.names=["Alexis","Hugo","Marvyn","Gud","Nathan"]}ngOnInit(){}dissmis(t){this.popoverCtrl.dismiss({fromPopover:t})}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(a.ab))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-names"]],decls:2,vars:1,consts:[["mode","ios","lines","none"],["button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",3,"click"]],template:function(t,e){1&t&&(o.Lb(0,"ion-list",0),o.hc(1,r,3,1,"ion-item",1),o.Kb()),2&t&&(o.yb(1),o.Yb("ngForOf",e.names))},directives:[a.B,s.h,a.v,a.A],styles:[""]}),t})(),d=(()=>{class t{constructor(t){this.popoverCtrl=t}ngOnInit(){}complete(){this.close(!1,!1,"complete")}partiel(){this.close(!0,!1,"partiel")}prodOnly(){this.close(!1,!0,"prodOnly")}close(t,e,n){this.popoverCtrl.dismiss({partiel:t,only:e,type:n})}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(a.ab))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-options-livraison"]],decls:10,vars:0,consts:[["lines","none"],["button","",3,"click"]],template:function(t,e){1&t&&(o.Lb(0,"ion-list",0),o.Lb(1,"ion-item",1),o.Tb("click",(function(){return e.complete()})),o.Lb(2,"ion-label"),o.ic(3,"Livraison compl\xe8te"),o.Kb(),o.Kb(),o.Lb(4,"ion-item",1),o.Tb("click",(function(){return e.partiel()})),o.Lb(5,"ion-label"),o.ic(6,"Livraison partielle"),o.Kb(),o.Kb(),o.Lb(7,"ion-item",1),o.Tb("click",(function(){return e.prodOnly()})),o.Lb(8,"ion-label"),o.ic(9,"Produit seul"),o.Kb(),o.Kb(),o.Kb())},directives:[a.B,a.v,a.A],styles:[""]}),t})();var p=n("3Pt+");function m(t,e){if(1&t){const t=o.Mb();o.Lb(0,"ion-item",9),o.Lb(1,"ion-input",28),o.Tb("ngModelChange",(function(e){return o.dc(t),o.Vb().firstPrice=e})),o.Kb(),o.Jb(2,"span",11),o.Lb(3,"ion-label"),o.ic(4,"EUR"),o.Kb(),o.Jb(5,"ion-icon",29),o.Kb()}if(2&t){const t=o.Vb();o.yb(1),o.Yb("ngModel",t.firstPrice)("value",t.firstPrice)}}function u(t,e){if(1&t){const t=o.Mb();o.Lb(0,"ion-item",9),o.Lb(1,"ion-input",30),o.Tb("ngModelChange",(function(e){return o.dc(t),o.Vb().price=e})),o.Kb(),o.Jb(2,"span",11),o.Lb(3,"ion-label"),o.ic(4,"EUR"),o.Kb(),o.Jb(5,"ion-icon",29),o.Kb()}if(2&t){const t=o.Vb();o.yb(1),o.Yb("ngModel",t.price)("value",t.price)}}function g(t,e){if(1&t&&(o.Lb(0,"ion-label",31),o.ic(1),o.Kb()),2&t){const t=o.Vb();o.yb(1),o.kc(" ",t.name," ")}}function h(t,e){1&t&&(o.Lb(0,"ion-note"),o.ic(1,"Nom du Livreur"),o.Kb())}function f(t,e){1&t&&(o.Lb(0,"ion-note"),o.ic(1,"Nom"),o.Kb())}function y(t,e){if(1&t){const t=o.Mb();o.Lb(0,"ion-item",9),o.Lb(1,"ion-input",32),o.Tb("ngModelChange",(function(e){return o.dc(t),o.Vb().clientName=e})),o.Kb(),o.Jb(2,"span",24),o.Kb()}if(2&t){const t=o.Vb();o.yb(1),o.Yb("ngModel",t.clientName)("value",t.clientName)}}function v(t,e){if(1&t){const t=o.Mb();o.Lb(0,"ion-item",9),o.Lb(1,"ion-input",33),o.Tb("ngModelChange",(function(e){return o.dc(t),o.Vb().km=e})),o.Kb(),o.Jb(2,"span",34),o.Lb(3,"ion-label",35),o.ic(4,"KM"),o.Kb(),o.Kb()}if(2&t){const t=o.Vb();o.yb(1),o.Yb("ngModel",t.km)("value",t.km)}}let C=(()=>{class t{constructor(t,e){this.modalCtrl=t,this.popoverCtrl=e,this.isAlreadyHere=!1,this.livrPartiel=!1,this.prodOnly=!1,null==this.date&&(this.date=(new Date).toISOString()),null==this.quantite&&(this.quantite=1),null==this.type&&(this.type="complete")}ngOnInit(){"partiel"==this.type&&(this.livrPartiel=!0),"prodOnly"==this.type&&(this.prodOnly=!0)}close(t){this.modalCtrl.dismiss(t?{save:t,key:this.key,title:this.title,price:this.price,firstPrice:this.firstPrice,km:this.km,date:this.date,name:this.name,quantite:this.quantite,clientName:this.clientName,type:this.type}:{save:t})}add(){this.quantite++}remove(){this.quantite>1&&this.quantite--}itemsModal(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.modalCtrl.create({component:l,componentProps:{afDB:this.afDB},cssClass:"my-custom-class",swipeToClose:!0,presentingElement:yield this.modalCtrl.getTop()});return t.onDidDismiss().then(t=>{void 0!==t.data&&(this.title=t.data.title,this.price=this.ifEmpty(t.data.price,this.prodOnly,!1),this.firstPrice=this.ifEmpty(t.data.firstPrice,this.livrPartiel,!1))}),yield t.present()}))}activated(){document.querySelector("#date-item").classList.toggle("no-input-feet")}namesPopover(t){return Object(i.a)(this,void 0,void 0,(function*(){document.querySelector("#no-input").classList.toggle("no-input-feet");const e=yield this.popoverCtrl.create({component:b,cssClass:"sort-popover",event:t,mode:"md",translucent:!0});return e.onDidDismiss().then(t=>{void 0!==t.data&&(this.name=t.data.fromPopover),document.querySelector("#no-input").classList.toggle("no-input-feet")}),yield e.present()}))}openOptionPopover(t){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield this.popoverCtrl.create({component:d,event:t,mode:"md",translucent:!0});return e.onWillDismiss().then(t=>{this.livrPartiel=t.data.partiel,this.prodOnly=t.data.only,this.type=t.data.type}),yield e.present()}))}ifEmpty(t,e,n){return e?n?"":0:t}save(){this.isAlreadyHere?this.modifyItemInFirebase(this.title,this.ifEmpty(this.price,this.prodOnly,!1),this.ifEmpty(this.km,this.prodOnly,!1),this.date,this.name,this.ifEmpty(this.firstPrice,this.livrPartiel,!1),this.quantite,this.ifEmpty(this.clientName,this.prodOnly,!0),this.type):this.addItemToFirebase(this.title,this.ifEmpty(this.price,this.prodOnly,!1),this.ifEmpty(this.km,this.prodOnly,!1),this.date,this.name,this.ifEmpty(this.firstPrice,this.livrPartiel,!1),this.quantite,this.ifEmpty(this.clientName,this.prodOnly,!0),this.type),this.close(!0)}addItemToFirebase(t,e,n,i,o,a,s,c,l){this.afDB.list("Livraisons/").push({title:t,price:e,firstPrice:a,distance:n,date:i,name:o,quantite:s,clientName:c,type:l})}modifyItemInFirebase(t,e,n,i,o,a,s,c,l){this.afDB.object("Livraisons/"+this.key+"/title/").set(t),this.afDB.object("Livraisons/"+this.key+"/price/").set(e),this.afDB.object("Livraisons/"+this.key+"/distance/").set(n),this.afDB.object("Livraisons/"+this.key+"/name/").set(o),this.afDB.object("Livraisons/"+this.key+"/clientName/").set(c),this.afDB.object("Livraisons/"+this.key+"/date/").set(i),this.afDB.object("Livraisons/"+this.key+"/firstPrice/").set(a),this.afDB.object("Livraisons/"+this.key+"/quantite/").set(s),this.afDB.object("Livraisons/"+this.key+"/type/").set(l)}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(a.W),o.Ib(a.ab))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-new"]],inputs:{afDB:"afDB",isAlreadyHere:"isAlreadyHere",key:"key",title:"title",price:"price",firstPrice:"firstPrice",km:"km",date:"date",name:"name",clientName:"clientName",quantite:"quantite",livrPartiel:"livrPartiel",prodOnly:"prodOnly",type:"type"},decls:47,vars:13,consts:[[2,"--border-style","none"],["fill","clear","slot","start",3,"click"],["fill","clear","slot","end",3,"click"],[1,"content",3,"fullscreen"],[2,"margin-top","10px"],["size","large",2,"padding-left","0"],["slot","end","fill","clear",2,"--color","black",3,"click"],["name","chevron-down"],["lines","none"],["mode","ios",1,"full"],["type","text","required","","placeholder","Title",3,"ngModel","value","ngModelChange"],[1,"input-feet","second-size"],["fill","clear","slot","end",1,"modal",3,"click"],["size","large","name","pricetag"],["mode","ios","class","full",4,"ngIf"],["slot","end",2,"display","flex","margin","0","position","relative"],[2,"margin-right","20px","padding","7px",3,"click"],["size","small","name","remove",2,"margin","0"],[2,"position","absolute","left","50%","top","50%","transform","translate(-50%, -50%)"],[2,"margin-left","20px","padding","7px",3,"click"],["name","add",2,"margin","0"],["mode","ios","id","no-input","required","",1,"full",3,"click"],["name","name",4,"ngIf"],[4,"ngIf"],[1,"input-feet"],["slot","end","size","small","name","chevron-down",1,"focus-icon"],["id","date-item",1,"full"],["required","","display-timezone","utc",3,"ngModel","value","ionBlur","ngModelChange"],["type","number","placeholder","Prix \xe0 l'achat",3,"ngModel","value","ngModelChange"],["size","small","name","chevron-down"],["type","number","placeholder","Prix \xe0 la revente",3,"ngModel","value","ngModelChange"],["name","name"],["type","text","required","","placeholder","Nom du client",3,"ngModel","value","ngModelChange"],["type","number","placeholder","Km parcourut",3,"ngModel","value","ngModelChange"],[1,"input-feet","first-size"],["slot","end",2,"margin-right","0"]],template:function(t,e){1&t&&(o.Lb(0,"ion-header"),o.Lb(1,"ion-toolbar",0),o.Lb(2,"ion-button",1),o.Tb("click",(function(){return e.close(!1)})),o.Lb(3,"ion-label"),o.ic(4,"Cancel"),o.Kb(),o.Kb(),o.Lb(5,"ion-title"),o.ic(6,"Nouveau"),o.Kb(),o.Lb(7,"ion-button",2),o.Tb("click",(function(){return e.save()})),o.Lb(8,"ion-label"),o.ic(9,"Save"),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Lb(10,"ion-content",3),o.Lb(11,"ion-toolbar",4),o.Lb(12,"ion-title",5),o.ic(13,"Livraison"),o.Kb(),o.Lb(14,"ion-button",6),o.Tb("click",(function(t){return e.openOptionPopover(t)})),o.Jb(15,"ion-icon",7),o.Kb(),o.Kb(),o.Lb(16,"ion-list",8),o.Lb(17,"ion-item",9),o.Lb(18,"ion-input",10),o.Tb("ngModelChange",(function(t){return e.title=t})),o.Kb(),o.Jb(19,"span",11),o.Lb(20,"ion-button",12),o.Tb("click",(function(){return e.itemsModal()})),o.Jb(21,"ion-icon",13),o.Kb(),o.Kb(),o.hc(22,m,6,2,"ion-item",14),o.hc(23,u,6,2,"ion-item",14),o.Lb(24,"ion-item",9),o.Lb(25,"ion-label"),o.ic(26,"Quantit\xe9 :"),o.Kb(),o.Jb(27,"span",11),o.Lb(28,"div",15),o.Lb(29,"ion-chip",16),o.Tb("click",(function(){return e.remove()})),o.Jb(30,"ion-icon",17),o.Kb(),o.Lb(31,"ion-label",18),o.ic(32),o.Kb(),o.Lb(33,"ion-chip",19),o.Tb("click",(function(){return e.add()})),o.Jb(34,"ion-icon",20),o.Kb(),o.Kb(),o.Kb(),o.Lb(35,"ion-item",21),o.Tb("click",(function(t){return e.namesPopover(t)})),o.hc(36,g,2,1,"ion-label",22),o.hc(37,h,2,0,"ion-note",23),o.hc(38,f,2,0,"ion-note",23),o.Jb(39,"span",24),o.Jb(40,"ion-icon",25),o.Kb(),o.hc(41,y,3,2,"ion-item",14),o.hc(42,v,5,2,"ion-item",14),o.Lb(43,"ion-item",26),o.Lb(44,"ion-datetime",27),o.Tb("ionBlur",(function(){return e.activated()}))("ngModelChange",(function(t){return e.date=t})),o.Kb(),o.Jb(45,"span",24),o.Jb(46,"ion-icon",25),o.Kb(),o.Kb(),o.Kb()),2&t&&(o.yb(10),o.Yb("fullscreen",!0),o.yb(8),o.Yb("ngModel",e.title)("value",e.title),o.yb(4),o.Yb("ngIf",!e.livrPartiel),o.yb(1),o.Yb("ngIf",!e.prodOnly),o.yb(9),o.kc(" ",e.quantite," "),o.yb(4),o.Yb("ngIf",void 0!==e.name),o.yb(1),o.Yb("ngIf",null==e.name&&!e.prodOnly),o.yb(1),o.Yb("ngIf",null==e.name&&e.prodOnly),o.yb(3),o.Yb("ngIf",!e.prodOnly),o.yb(1),o.Yb("ngIf",!e.prodOnly),o.yb(2),o.Yb("ngModel",e.date)("value",e.date))},directives:[a.r,a.T,a.e,a.A,a.S,a.m,a.s,a.B,a.v,a.u,a.db,p.f,p.d,p.e,s.i,a.l,a.n,a.cb,a.Y,a.D],styles:[".content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-top:10px;--padding-bottom:10px}.modal[_ngcontent-%COMP%]{--border-style:solid;--border-color:#000;--color:#000;--border-width:2px;height:45px}.focus-icon[_ngcontent-%COMP%]{margin-right:0}.item-has-focus[_ngcontent-%COMP%]   .input-feet[_ngcontent-%COMP%]{background:#3880ff;opacity:1}.item-has-focus[_ngcontent-%COMP%]   .focus-icon[_ngcontent-%COMP%]{color:#3880ff}.no-input-feet[_ngcontent-%COMP%]   .input-feet[_ngcontent-%COMP%]{background:#3880ff;opacity:1}.no-input-feet[_ngcontent-%COMP%]   .focus-icon[_ngcontent-%COMP%]{color:#3880ff}.input-feet[_ngcontent-%COMP%]{width:100%;height:2px;background:grey;opacity:.5;position:absolute;bottom:5px;transition-property:background,opacity;transition-duration:.2s}.first-size[_ngcontent-%COMP%]{width:85%}.second-size[_ngcontent-%COMP%]{width:75%}"]}),t})()},"k+ul":function(t,e,n){"use strict";n.r(e),n.d(e,"Tab3PageModule",(function(){return O}));var i=n("TEn/"),o=n("tyNb"),a=n("ofXK"),s=n("3Pt+"),c=n("mrSG"),l=n("9ybx"),r=n("fXoL"),b=n("Sy1n"),d=n("sSZD");function p(t,e){1&t&&(r.Lb(0,"ion-title"),r.ic(1," Stonks "),r.Kb())}function m(t,e){1&t&&(r.Lb(0,"ion-title"),r.ic(1," Balence "),r.Kb())}function u(t,e){if(1&t){const t=r.Mb();r.Lb(0,"ion-item",23),r.Tb("click",(function(){r.dc(t);const n=e.$implicit,i=e.index;return r.Vb().goTo(n,i)})),r.Lb(1,"div",24),r.Lb(2,"ion-label"),r.ic(3),r.Kb(),r.Lb(4,"ion-note",25),r.ic(5," livr\xe9 par "),r.Lb(6,"strong"),r.ic(7),r.Kb(),r.Kb(),r.Kb(),r.Lb(8,"div",26),r.Lb(9,"ion-label"),r.ic(10),r.Kb(),r.Jb(11,"ion-datetime",27),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit;r.yb(3),r.kc(" ",t.title," "),r.yb(4),r.kc(" ",t.name," "),r.yb(3),r.kc(" \u20ac",(t.price*t.quantite).toFixed(2)," "),r.yb(1),r.Zb("value",t.date)}}function g(t,e){if(1&t&&(r.Lb(0,"ion-item",28),r.Lb(1,"div",29),r.Lb(2,"ion-label",30),r.ic(3),r.Kb(),r.Lb(4,"div",31),r.Jb(5,"ion-progress-bar",32),r.Lb(6,"ion-label"),r.ic(7),r.Kb(),r.Jb(8,"ion-progress-bar",33),r.Lb(9,"ion-label",34),r.ic(10),r.Kb(),r.Lb(11,"ion-note",35),r.ic(12,"Somme rapport\xe9"),r.Kb(),r.Lb(13,"ion-note",36),r.ic(14,"Somme gagn\xe9"),r.Kb(),r.Lb(15,"ion-note",37),r.ic(16),r.Kb(),r.Lb(17,"ion-note",38),r.ic(18),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit,n=r.Vb();r.yb(3),r.kc(" ",t.name," "),r.yb(2),r.Zb("value",(n.getPourcent(t.tab.rapport,n.total)/100).toFixed(2)),r.yb(2),r.kc(" ",n.getPourcent(t.tab.rapport,n.total).toFixed(2),"% "),r.yb(1),r.Zb("value",(n.getPourcent(t.tab.total,n.total)/100).toFixed(2)),r.yb(2),r.kc(" ",n.getPourcent(t.tab.total,n.total).toFixed(2),"%"),r.yb(6),r.kc("\u20ac",t.tab.rapport.toFixed(2)," "),r.yb(2),r.kc("\u20ac",t.tab.total.toFixed(2)," ")}}function h(t,e){if(1&t){const t=r.Mb();r.Lb(0,"ion-fab",39),r.Lb(1,"ion-fab-button",40),r.Tb("click",(function(){return r.dc(t),r.Vb().addNewExpModal()})),r.Jb(2,"ion-icon",41),r.Kb(),r.Kb()}}function f(t,e){if(1&t&&(r.Lb(0,"ion-toolbar",42),r.Lb(1,"div",43),r.Lb(2,"ion-note",44),r.ic(3,"MY TOTAL"),r.Kb(),r.Jb(4,"br"),r.Lb(5,"ion-label",45),r.ic(6,"\u20ac -- . --"),r.Kb(),r.Kb(),r.Lb(7,"div",46),r.Lb(8,"ion-note",44),r.ic(9,"TOTAL STONKS"),r.Kb(),r.Jb(10,"br"),r.Lb(11,"ion-label",45),r.ic(12),r.Kb(),r.Kb(),r.Kb()),2&t){const t=r.Vb();r.yb(12),r.kc("\u20ac",t.total.toFixed(2),"")}}function y(t,e){if(1&t){const t=r.Mb();r.Lb(0,"ion-button",47),r.Tb("click",(function(){return r.dc(t),r.Vb().confirmAlert()})),r.Lb(1,"ion-label"),r.ic(2,"D\xe9partager"),r.Kb(),r.Kb()}}let v=(()=>{class t{constructor(t,e,n,i,o,a){this.modalController=t,this.app=e,this.afDB=n,this.router=i,this.alertCtrl=o,this.navCtrl=a,this.pageName=!0,this.date=(new Date).toISOString(),this.items=[],this.total=0,this.charges=0,this.admin=[{name:"Hugo",tab:{total:0,rapport:0}},{name:"Alexis",tab:{total:0,rapport:0}},{name:"Nathan",tab:{total:0,rapport:0}},{name:"Marvyn",tab:{total:0,rapport:0}},{name:"Gud",tab:{total:0,rapport:0}}],this.segment=0,this.slidesOptions={initialSlide:0,slidesPerView:1,speed:400},this.afDB=this.app.afDB,this.getStonksInFirebase()}segmentChanged(t){return Object(c.a)(this,void 0,void 0,(function*(){yield this.selectedSlide.slideTo(this.segment)}))}slideChanged(t){return Object(c.a)(this,void 0,void 0,(function*(){this.selectedSlide=t,t.getActiveIndex().then(t=>{this.segment=t,0==this.segment?this.pageName=!1:1==this.segment&&(this.pageName=!0)})}))}addNewExpModal(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:l.a,componentProps:{afDB:this.afDB},cssClass:"my-custom-class"});return yield t.present()}))}goTo(t,e){this.navCtrl.navigateForward("/tabs/tab3/edit",{queryParams:{item:this.items[e]}})}confirmAlert(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({cssClass:"my-custom-class",header:"Confirmer",message:"Voulez-vous vraiment r\xe9partir le montant total avec tout le monde ?",buttons:[{text:"Annuler",role:"Cancel"},{text:"Confirmer",handler:()=>{console.log("ok")}}]});yield t.present()}))}getFuelPrice(t){let e=2;return t>15?e+=1*(t-15)/7:0==t&&(e=0),e}getPourcent(t,e){return 0==e&&(e=1),t/e*100}getStonksInFirebase(){this.afDB.list("Livraisons/").snapshotChanges(["child_added","child_removed","child_changed"]).subscribe(t=>{this.items=[],this.total=0,this.charges=0;for(let e of Object.keys(this.admin))this.admin[e].tab.rapport=0,this.admin[e].tab.total=0;t.forEach(t=>{let e=t.payload.exportVal();this.total=this.total+ +e.price*e.quantite;for(let n of Object.keys(this.admin))this.admin[n].name==e.name&&(this.admin[n].tab.rapport=this.admin[n].tab.rapport+ +e.price*e.quantite,this.admin[n].tab.total=this.admin[n].tab.total+ +e.firstPrice*e.quantite+this.getFuelPrice(+e.distance),this.charges=this.charges+ +e.firstPrice*e.quantite+this.getFuelPrice(+e.distance));this.items.push({key:t.key,title:e.title,price:e.price,firstPrice:e.firstPrice,name:e.name,date:e.date,km:e.distance,quantite:e.quantite,clientName:e.clientName,type:e.type})});for(let e of Object.keys(this.admin))this.admin[e].tab.total=this.admin[e].tab.total+(this.total-this.charges)/5})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(i.W),r.Ib(b.a),r.Ib(d.a),r.Ib(o.g),r.Ib(i.a),r.Ib(i.X))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-tab3"]],decls:32,vars:12,consts:[["mode","ios",3,"translucent"],[4,"ngIf"],["slot","end","fill","clear",1,"option-button"],["name","ellipsis-vertical"],["id","stats-content",3,"fullscreen"],[3,"ngModel","ngModelChange","ionChange"],["value","0"],["name","reader"],["value","1"],["name","swap-horizontal"],["id","content",3,"options","ionSlideDidChange","ionSlidesDidLoad"],["slides",""],["id","Stonks-page"],["lines","full"],["button","","detail","false","routerDirection","forward",3,"click",4,"ngFor","ngForOf"],["id","balence-page"],["mode","md",2,"height","50px"],["size","large"],["button","","detail","false","color","light",4,"ngFor","ngForOf"],["id","bottom-item"],["id","tricount-add","vertical","bottom","horizontal","center",4,"ngIf"],["id","tricount-toolbar",4,"ngIf"],["color","light","expand","full",3,"click",4,"ngIf"],["button","","detail","false","routerDirection","forward",3,"click"],["slot","start"],["slot","end",2,"font-size","12pt"],["slot","end",2,"text-align","right"],["disabled","","displayFormat","MM/DD/YYYY",3,"value"],["button","","detail","false","color","light"],[1,"item-content"],[1,"label"],[1,"progress-bar"],["slot","start","color","warning","reversed","true",3,"value"],[1,"right",2,"position","absolute",3,"value"],[1,"right"],[1,"up"],[1,"right","up"],[1,"down"],[1,"right","down"],["id","tricount-add","vertical","bottom","horizontal","center"],[3,"click"],["name","add"],["id","tricount-toolbar"],["slot","start",2,"text-align","left"],[2,"font-size","small"],[2,"font-size","small","font-weight","bold"],["slot","end"],["color","light","expand","full",3,"click"]],template:function(t,e){if(1&t){const t=r.Mb();r.Lb(0,"ion-header",0),r.Lb(1,"ion-toolbar"),r.hc(2,p,2,0,"ion-title",1),r.hc(3,m,2,0,"ion-title",1),r.Lb(4,"ion-button",2),r.Jb(5,"ion-icon",3),r.Kb(),r.Kb(),r.Kb(),r.Lb(6,"ion-content",4),r.Lb(7,"ion-segment",5),r.Tb("ngModelChange",(function(t){return e.segment=t}))("ionChange",(function(t){return e.segmentChanged(t)})),r.Lb(8,"ion-segment-button",6),r.Jb(9,"ion-icon",7),r.Lb(10,"ion-label"),r.ic(11,"Stonks"),r.Kb(),r.Kb(),r.Lb(12,"ion-segment-button",8),r.Jb(13,"ion-icon",9),r.Lb(14,"ion-label"),r.ic(15,"Balence"),r.Kb(),r.Kb(),r.Kb(),r.Lb(16,"ion-slides",10,11),r.Tb("ionSlideDidChange",(function(){r.dc(t);const n=r.cc(17);return e.slideChanged(n)}))("ionSlidesDidLoad",(function(){r.dc(t);const n=r.cc(17);return e.slideChanged(n)})),r.Lb(18,"ion-slide",12),r.Lb(19,"ion-list",13),r.hc(20,u,12,4,"ion-item",14),r.Kb(),r.Kb(),r.Lb(21,"ion-slide",15),r.Lb(22,"ion-list",13),r.Lb(23,"ion-item-divider",16),r.Lb(24,"ion-title",17),r.ic(25),r.Kb(),r.Kb(),r.hc(26,g,19,7,"ion-item",18),r.Jb(27,"ion-item-divider",19),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.hc(28,h,3,0,"ion-fab",20),r.Lb(29,"ion-footer"),r.hc(30,f,13,1,"ion-toolbar",21),r.hc(31,y,3,0,"ion-button",22),r.Kb()}2&t&&(r.Yb("translucent",!0),r.yb(2),r.Yb("ngIf",!e.pageName),r.yb(1),r.Yb("ngIf",e.pageName),r.yb(3),r.Yb("fullscreen",!0),r.yb(1),r.Yb("ngModel",e.segment),r.yb(9),r.Yb("options",e.slidesOptions),r.yb(4),r.Yb("ngForOf",e.items),r.yb(5),r.kc(" Total : \u20ac",e.total.toFixed(2)," "),r.yb(1),r.Yb("ngForOf",e.admin),r.yb(2),r.Yb("ngIf",!e.pageName),r.yb(2),r.Yb("ngIf",!e.pageName),r.yb(1),r.Yb("ngIf",e.pageName))},directives:[i.r,i.T,a.i,i.e,i.s,i.m,i.L,i.cb,s.d,s.e,i.M,i.A,i.O,i.N,i.B,a.h,i.w,i.S,i.q,i.v,i.D,i.n,i.E,i.o,i.p],styles:[".small-margin[_ngcontent-%COMP%]{margin:10px}.option-button[_ngcontent-%COMP%]{--color:#000;margin:0 10px;--padding-start:0;--padding-end:0}ion-content[_ngcontent-%COMP%]{--overflow:hidden}ion-slide[_ngcontent-%COMP%]{overflow:scroll}#content[_ngcontent-%COMP%]{height:100%}#content[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{display:block}#Stonks-page[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-top:5px;--padding-bottom:5px}#Stonks-page[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:5px}#Stonks-page[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{font-size:small;--padding-end:0;--padding-start:0;--padding-top:0;--padding-bottom:0}#balence-page[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:0;--pading-end:0}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{width:100%;padding:10px 0}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:15px}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:center;font-weight:700}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{display:flex;width:100%;padding-bottom:20px}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{width:50%;height:20px}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{position:absolute;bottom:15px}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:small;position:absolute;margin:5px}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .up[_ngcontent-%COMP%]{bottom:55px}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{bottom:0}#balence-page[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{right:0}#balence-page[_ngcontent-%COMP%]   #bottom-item[_ngcontent-%COMP%]{--background:#fff}.ios[_ngcontent-%COMP%]   #bottom-item[_ngcontent-%COMP%]{height:50px}.md[_ngcontent-%COMP%]   #bottom-item[_ngcontent-%COMP%]{height:65px}"]}),t})();var C=n("qtYk");const L=[{path:"",component:v},{path:"edit",loadChildren:()=>n.e(15).then(n.bind(null,"xhSr")).then(t=>t.EditPageModule)}];let P=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[o.i.forChild(L)]]}),t})(),O=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[i.U,a.b,s.a,C.a,o.i.forChild([{path:"",component:v}]),P]]}),t})()}}]);