{"version":3,"sources":["webpack:///src/app/tab2/edit/edit.page.html","webpack:///src/app/tab3/edit/edit.page.html","webpack:///src/app/tab2/edit/edit-routing.module.ts","webpack:///src/app/tab2/edit/edit.module.ts","webpack:///src/app/tab2/edit/edit.page.scss","webpack:///src/app/tab2/edit/edit.page.ts","webpack:///src/app/tab3/edit/edit-routing.module.ts","webpack:///src/app/tab3/edit/edit.module.ts","webpack:///src/app/tab3/edit/edit.page.scss","webpack:///src/app/tab3/edit/edit.page.ts"],"names":["routes","path","component","EditPageRoutingModule","imports","forChild","exports","EditPageModule","declarations","EditPage","route","navCtrl","modalCtrl","formule","queryParams","subscribe","params","item","afDB","back","create","componentProps","afBD","swipeToClose","modal","onWillDismiss","then","data","undefined","present","selector","template","modalController","app","infoProduit","infoFormule","navigateBack","type","isAlreadyHere","key","title","price","firstPrice","name","date","km","quantite","cssClass","save","clientName","length","Object","keys","f","object","tab","set","list","remove","goBack"],"mappings":"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","file":"edit-edit-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar style=\\\"--border-style: none;\\\">\\n    <ion-button fill=\\\"clear\\\" slot=\\\"start\\\" (click)=\\\"goBack()\\\">\\n      <ion-icon name=\\\"chevron-back\\\"></ion-icon>\\n    </ion-button>\\n    <ion-title>Détail</ion-title>\\n    <ion-button fill=\\\"clear\\\" slot=\\\"end\\\" (click)=\\\"openEdit()\\\">\\n      <ion-label>Edit</ion-label>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list lines=\\\"full\\\">\\n\\n    <ion-item-divider>\\n      \\n    </ion-item-divider>\\n\\n    <ion-item>\\n      <ion-label>Nom :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: end;\\\"> {{ item.name }} </ion-note>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Catégorie :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: end;\\\"> {{ item.category }} </ion-note>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Prix à l'achat :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: end;\\\"> €{{ (+item.firstPrice).toFixed(2) }} </ion-note>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>prix à la revente :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: end;\\\"> €{{ (+item.price).toFixed(2) }} </ion-note>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Quantité :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: end;\\\"> {{ item.stock }} </ion-note>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Type : </ion-label>\\n      <ion-note *ngIf=\\\"formule\\\" slot=\\\"end\\\" style=\\\"text-align: end;\\\">Formule</ion-note>\\n      <ion-note *ngIf=\\\"!formule\\\" slot=\\\"end\\\" style=\\\"text-align: end;\\\">Produit</ion-note>\\n    </ion-item>\\n\\n  </ion-list>\\n</ion-content>\\n\";","export default \"<ion-header>\\n  <ion-toolbar style=\\\"--border-style: none\\\">\\n    <ion-button slot=\\\"start\\\" fill=\\\"clear\\\" (click)=\\\"goBack()\\\" style=\\\"--padding-start: 0\\\">\\n      <ion-icon size=\\\"large\\\" name=\\\"chevron-back\\\"></ion-icon>\\n    </ion-button>\\n    <ion-button (click)=\\\"addNewExpModal()\\\" slot=\\\"end\\\" fill=\\\"clear\\\">\\n      <ion-label>Edit</ion-label>\\n    </ion-button>\\n  </ion-toolbar>\\n  \\n  <ion-list lines=\\\"none\\\">\\n    <ion-item style=\\\"text-align: center;\\\">\\n      <ion-label style=\\\"font-size: 20pt; font-weight: bold;\\\"> {{ item.title }} </ion-label>\\n    </ion-item>\\n    <ion-item>\\n      <ion-title>€{{ (+item.price).toFixed(2) }} (x{{ item.quantite }}) </ion-title>\\n    </ion-item>\\n    <ion-item style=\\\" --padding-end: 0;\\\">\\n      <ion-label>Livré par <strong>{{ item.name }}</strong> </ion-label>\\n      <ion-datetime slot=\\\"end\\\" readonly displayFormat=\\\"MM/DD/YYYY\\\" value=\\\"{{ item.date }}\\\" style=\\\"text-align: end;\\\"></ion-datetime>\\n    </ion-item>\\n    <ion-item-divider lines=\\\"full\\\">\\n      \\n    </ion-item-divider>\\n\\n    <ion-item lines=\\\"full\\\" *ngIf=\\\"item.type != 'partiel'\\\">\\n      <ion-label>Prix à l'achat :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: right;\\\"> €{{ (+item.firstPrice).toFixed(2) }} x {{ item.quantite }} </ion-note>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"full\\\" *ngIf=\\\"item.type != 'prodOnly'\\\">\\n      <ion-label>Distance :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: right;\\\"> {{ item.km }} km </ion-note>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label>Quantité :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: right;\\\"> {{ item.quantite }} </ion-note>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"full\\\" *ngIf=\\\"item.type != 'prodOnly'\\\">\\n      <ion-label>Nom du client :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: right;\\\"> {{ item.clientName }} </ion-note>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Type de livraison :</ion-label>\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align: right\\\"> {{ getType(item.type) }} </ion-note>\\n    </ion-item>\\n\\n    <ion-item-divider>\\n      \\n    </ion-item-divider>\\n\\n    <section>\\n      <ion-button lines=\\\"full\\\" fill=\\\"clear\\\" expand=\\\"full\\\" (click)=\\\"delete()\\\">\\n        <ion-label color=\\\"danger\\\">Supprimer item</ion-label>\\n      </ion-button>\\n    </section>\\n  </ion-list>\\n</ion-header>\\n\\n<ion-content>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditPage } from './edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditPageRoutingModule } from './edit-routing.module';\n\nimport { EditPage } from './edit.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditPageRoutingModule\n  ],\n  declarations: [EditPage]\n})\nexport class EditPageModule {}\n","export default \"ion-header ion-toolbar ion-button {\\n  margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMi9lZGl0L2VkaXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksU0FBQTtBQUNKIiwiZmlsZSI6InNyYy9hcHAvdGFiMi9lZGl0L2VkaXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlciBpb24tdG9vbGJhciBpb24tYnV0dG9uIHtcclxuICAgIG1hcmdpbjogMDtcclxufSJdfQ== */\";","// ANGULAR\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { ActivatedRoute } from '@angular/router';\n\n// IONIC\nimport { ModalController, NavController } from '@ionic/angular';\n\n// OWN COMPONENT\nimport { AddComponent } from '../add/add.component';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.page.html',\n  styleUrls: ['./edit.page.scss'],\n})\nexport class EditPage implements OnInit {\n\n  item: any;\n  afDB: AngularFireDatabase;\n\n  formule: boolean = false;\n\n  constructor(private route: ActivatedRoute, private navCtrl: NavController, private modalCtrl: ModalController) {\n    this.route.queryParams.subscribe(params => {\n      this.item = params['item'];\n      this.afDB = params['afDB'];\n\n      this.formule = this.item.formule;\n    });\n   }\n\n  ngOnInit() {\n  }\n\n  goBack() {\n    this.navCtrl.back();\n  }\n\n  async openEdit() {\n    const modal = await this.modalCtrl.create({\n      component: AddComponent,\n      componentProps: {\n        item: this.item,\n        afBD: this.afDB\n\n      },\n      swipeToClose: true,\n    })\n\n    modal.onWillDismiss().then((data: any) => {\n      if(data.data.item != undefined){\n        this.item = data.data.item;\n      }\n    })\n\n    return await modal.present();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditPage } from './edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditPageRoutingModule } from './edit-routing.module';\n\nimport { EditPage } from './edit.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditPageRoutingModule\n  ],\n  declarations: [EditPage]\n})\nexport class EditPageModule {}\n","export default \"ion-item.ion-activated {\\n  --background-activated: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMy9lZGl0L2VkaXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksNEJBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3RhYjMvZWRpdC9lZGl0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pdGVtLmlvbi1hY3RpdmF0ZWQge1xyXG4gICAgLS1iYWNrZ3JvdW5kLWFjdGl2YXRlZDogbm9uZTtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\n\nimport { ModalController, NavController } from '@ionic/angular';\nimport { NewComponent } from '../new/new.component';\nimport { AppComponent } from '../../app.component';\n\nimport { ActivatedRoute } from '@angular/router';\nimport { AngularFireDatabase } from '@angular/fire/database';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.page.html',\n  styleUrls: ['./edit.page.scss'],\n})\nexport class EditPage implements OnInit {\n\n  afDB: AngularFireDatabase;\n\n  item: any = [];\n\n  infoProduit: any = [];\n  infoFormule: any = [];\n\n  constructor(private navCtrl: NavController, private modalController: ModalController, private app: AppComponent, private route: ActivatedRoute) {\n    \n    this.afDB = this.app.afDB;\n\n    this.route.queryParams.subscribe(params => {\n      this.item = params['item'];\n      this.infoProduit = params['infoProduit'];\n      this.infoFormule = params['infoFormule'];\n    })\n\n    \n  }\n\n  ngOnInit() {\n\n  }\n\n  goBack () {\n    this.navCtrl.navigateBack('tabs/tab3');\n  }\n\n  getType(type: string): string {\n    if(type == 'partiel'){\n      return 'Partielle';\n    }\n    if(type == 'prodOnly'){\n      return 'Produit seul';\n    }\n    return 'Complète';\n  }\n\n  async addNewExpModal() {\n    const modal = await this.modalController.create({\n      component: NewComponent,\n      componentProps: {\n        afDB: this.afDB,\n        isAlreadyHere: true,\n        // KEY ITEM \n        key: this.item.key,\n        // ATTRIBUTS\n        title: this.item.title,\n        price: this.item.price,\n        firstPrice: this.item.firstPrice,\n        name: this.item.name,\n        date: this.item.date,\n        km: this.item.km,\n        quantite: this.item.quantite,\n        type: this.item.type\n      },\n      cssClass: 'my-custom-class'\n    });\n\n    modal.onWillDismiss().then((data: any) => {\n      data = data.data;\n\n      if(data.save){\n        this.item.title = data.title;\n        this.item.price = data.price;\n        this.item.firstPrice = data.firstPrice;\n        this.item.name = data.name;\n        this.item.km = data.km;\n        this.item.quantite = data.quantite; \n        this.item.clientName = data.clientName;\n        this.item.type = data.type;\n      }     \n    })\n\n    return await modal.present();   \n  }\n\n  delete() {\n\n    if(this.infoFormule.length != 0){\n\n      for(let f of Object.keys(this.infoFormule)){\n        this.afDB.object('produits/' + this.infoFormule[f].tab.key + '/stock/').set(this.infoFormule[f].tab.quantite + this.infoFormule[f].quantite);\n      }\n    }\n    else if (this.infoProduit != undefined) {\n      this.afDB.object('produits/' + this.infoProduit[0].key + '/stock/').set(this.infoProduit[0].quantite + this.item.quantite);\n    }\n  \n    this.afDB.list('Livraisons/').remove(this.item.key);\n    this.goBack();\n  }\n\n\n}\n"]}