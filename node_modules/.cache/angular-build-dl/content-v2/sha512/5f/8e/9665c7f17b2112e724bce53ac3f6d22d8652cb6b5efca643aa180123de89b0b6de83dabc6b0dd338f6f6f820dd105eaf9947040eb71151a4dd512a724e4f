!function(){function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{xhSr:function(e,n,o){"use strict";o.r(n),o.d(n,"EditPageModule",(function(){return K}));var r=o("ofXK"),a=o("3Pt+"),c=o("TEn/"),b=o("tyNb"),l=o("mrSG"),s=o("9ybx"),u=o("fXoL"),m=o("Sy1n");function f(t,i){if(1&t&&(u.Lb(0,"ion-item",9),u.Lb(1,"ion-label"),u.ic(2,"Prix \xe0 l'achat :"),u.Kb(),u.Lb(3,"ion-note",11),u.ic(4),u.Kb(),u.Kb()),2&t){var e=u.Vb();u.yb(4),u.lc(" \u20ac",(e.item.firstPrice-0).toFixed(2)," x ",e.item.quantite," ")}}function d(t,i){if(1&t&&(u.Lb(0,"ion-item",9),u.Lb(1,"ion-label"),u.ic(2,"Distance :"),u.Kb(),u.Lb(3,"ion-note",11),u.ic(4),u.Kb(),u.Kb()),2&t){var e=u.Vb();u.yb(4),u.kc(" ",e.item.km," km ")}}function p(t,i){if(1&t&&(u.Lb(0,"ion-item",9),u.Lb(1,"ion-label"),u.ic(2,"Nom du client :"),u.Kb(),u.Lb(3,"ion-note",11),u.ic(4),u.Kb(),u.Kb()),2&t){var e=u.Vb();u.yb(4),u.kc(" ",e.item.clientName," ")}}var h,y,k,v=[{path:"",component:(h=function(){function e(i,n,o,r){var a=this;t(this,e),this.navCtrl=i,this.modalController=n,this.app=o,this.route=r,this.item=[],this.infoProduit=[],this.infoFormule=[],this.afDB=this.app.afDB,this.route.queryParams.subscribe((function(t){a.item=t.item,a.infoProduit=t.infoProduit,a.infoFormule=t.infoFormule}))}var n,o,r;return n=e,(o=[{key:"ngOnInit",value:function(){}},{key:"goBack",value:function(){this.navCtrl.navigateBack("tabs/tab3")}},{key:"getType",value:function(t){return"partiel"==t?"Partielle":"prodOnly"==t?"Produit seul":"Compl\xe8te"}},{key:"addNewExpModal",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:s.a,componentProps:{afDB:this.afDB,isAlreadyHere:!0,key:this.item.key,title:this.item.title,price:this.item.price,firstPrice:this.item.firstPrice,name:this.item.name,date:this.item.date,km:this.item.km,quantite:this.item.quantite,type:this.item.type},cssClass:"my-custom-class"});case 2:return(i=t.sent).onWillDismiss().then((function(t){(t=t.data).save&&(e.item.title=t.title,e.item.price=t.price,e.item.firstPrice=t.firstPrice,e.item.name=t.name,e.item.km=t.km,e.item.quantite=t.quantite,e.item.clientName=t.clientName,e.item.type=t.type)})),t.next=6,i.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"delete",value:function(){if(0!=this.infoFormule.length)for(var t=0,i=Object.keys(this.infoFormule);t<i.length;t++){var e=i[t];this.afDB.object("produits/"+this.infoFormule[e].tab.key+"/stock/").set(this.infoFormule[e].tab.quantite+this.infoFormule[e].quantite)}else null!=this.infoProduit&&this.afDB.object("produits/"+this.infoProduit[0].key+"/stock/").set(this.infoProduit[0].quantite+this.item.quantite);this.afDB.list("Livraisons/").remove(this.item.key),this.goBack()}}])&&i(n.prototype,o),r&&i(n,r),e}(),h.\u0275fac=function(t){return new(t||h)(u.Ib(c.X),u.Ib(c.W),u.Ib(m.a),u.Ib(b.a))},h.\u0275cmp=u.Cb({type:h,selectors:[["app-edit"]],decls:40,vars:10,consts:[[2,"--border-style","none"],["slot","start","fill","clear",2,"--padding-start","0",3,"click"],["size","large","name","chevron-back"],["slot","end","fill","clear",3,"click"],["lines","none"],[2,"text-align","center"],[2,"font-size","20pt","font-weight","bold"],[2,"--padding-end","0"],["slot","end","readonly","","displayFormat","MM/DD/YYYY",2,"text-align","end",3,"value"],["lines","full"],["lines","full",4,"ngIf"],["slot","end",2,"text-align","right"],["lines","full","fill","clear","expand","full",3,"click"],["color","danger"]],template:function(t,i){1&t&&(u.Lb(0,"ion-header"),u.Lb(1,"ion-toolbar",0),u.Lb(2,"ion-button",1),u.Tb("click",(function(){return i.goBack()})),u.Jb(3,"ion-icon",2),u.Kb(),u.Lb(4,"ion-button",3),u.Tb("click",(function(){return i.addNewExpModal()})),u.Lb(5,"ion-label"),u.ic(6,"Edit"),u.Kb(),u.Kb(),u.Kb(),u.Lb(7,"ion-list",4),u.Lb(8,"ion-item",5),u.Lb(9,"ion-label",6),u.ic(10),u.Kb(),u.Kb(),u.Lb(11,"ion-item"),u.Lb(12,"ion-title"),u.ic(13),u.Kb(),u.Kb(),u.Lb(14,"ion-item",7),u.Lb(15,"ion-label"),u.ic(16,"Livr\xe9 par "),u.Lb(17,"strong"),u.ic(18),u.Kb(),u.Kb(),u.Jb(19,"ion-datetime",8),u.Kb(),u.Jb(20,"ion-item-divider",9),u.hc(21,f,5,2,"ion-item",10),u.hc(22,d,5,1,"ion-item",10),u.Lb(23,"ion-item",9),u.Lb(24,"ion-label"),u.ic(25,"Quantit\xe9 :"),u.Kb(),u.Lb(26,"ion-note",11),u.ic(27),u.Kb(),u.Kb(),u.hc(28,p,5,1,"ion-item",10),u.Lb(29,"ion-item"),u.Lb(30,"ion-label"),u.ic(31,"Type de livraison :"),u.Kb(),u.Lb(32,"ion-note",11),u.ic(33),u.Kb(),u.Kb(),u.Jb(34,"ion-item-divider"),u.Lb(35,"section"),u.Lb(36,"ion-button",12),u.Tb("click",(function(){return i.delete()})),u.Lb(37,"ion-label",13),u.ic(38,"Supprimer item"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Jb(39,"ion-content")),2&t&&(u.yb(10),u.kc(" ",i.item.title," "),u.yb(3),u.lc("\u20ac",(i.item.price-0).toFixed(2)," (x",i.item.quantite,") "),u.yb(5),u.jc(i.item.name),u.yb(1),u.Zb("value",i.item.date),u.yb(2),u.Yb("ngIf","partiel"!=i.item.type),u.yb(1),u.Yb("ngIf","prodOnly"!=i.item.type),u.yb(5),u.kc(" ",i.item.quantite," "),u.yb(1),u.Yb("ngIf","prodOnly"!=i.item.type),u.yb(5),u.kc(" ",i.getType(i.item.type)," "))},directives:[c.p,c.T,c.d,c.q,c.z,c.A,c.t,c.R,c.l,c.cb,c.u,r.i,c.C,c.k],styles:["ion-item.ion-activated[_ngcontent-%COMP%]{--background-activated:none}"]}),h)}],L=((k=function i(){t(this,i)}).\u0275mod=u.Gb({type:k}),k.\u0275inj=u.Fb({factory:function(t){return new(t||k)},imports:[[b.i.forChild(v)],b.i]}),k),K=((y=function i(){t(this,i)}).\u0275mod=u.Gb({type:y}),y.\u0275inj=u.Fb({factory:function(t){return new(t||y)},imports:[[r.b,a.a,c.U,L]]}),y)}}])}();