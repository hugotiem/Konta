{"version":3,"sources":["./src/app/tab2/tab2.page.html","./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts"],"names":[],"mappings":"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","file":"tab2-tab2-module-es2015.js","sourcesContent":["export default \"<ion-header mode=\\\"ios\\\" >\\n  <ion-toolbar >\\n    <ion-title>Items</ion-title>\\n    <ion-button class=\\\"toolbar-button\\\" fill=\\\"clear\\\" slot=\\\"end\\\" (click)=\\\"presentPopover($event)\\\">\\n      <ion-icon name=\\\"chevron-down\\\"></ion-icon>\\n    </ion-button>\\n    <ion-button class=\\\"toolbar-button\\\" fill=\\\"clear\\\" slot=\\\"end\\\" (click)=\\\"presentAddModal()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ion-list>\\n\\n    <ion-item-sliding *ngFor=\\\"let item of items\\\">\\n      <ion-item (click)=\\\"presentModal(item)\\\" button detail=\\\"false\\\" style=\\\"--padding-top: 5px\\\">\\n        <ion-img style=\\\"width: 70px; z-index: -1;\\\" src=\\\"../assets/img/marlboro_gold.jpg\\\" alt=\\\"Marlboro Gold\\\"></ion-img>\\n        <div>\\n          <ion-label style=\\\"font-weight: bold;\\\"> {{ item.name }} </ion-label>\\n          <ion-label style=\\\"font-size: medium;\\\"> {{ item.category }} </ion-label>\\n          <ion-note> {{ item.price }} â‚¬</ion-note>\\n        </div>\\n        <ion-chip slot=\\\"end\\\">\\n          <ion-label> {{ item.stock }} </ion-label>\\n        </ion-chip>\\n      </ion-item>\\n\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option (click)=\\\"delete(item)\\\" color=\\\"danger\\\">\\n          <ion-icon name=\\\"trash\\\" slot=\\\"icon-only\\\"></ion-icon>\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\nimport { AddComponent } from './add/add.component';\nimport { QuantiteComponent } from './add/quantite/quantite.component';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page, QuantiteComponent]\n})\nexport class Tab2PageModule {}\n","export default \"/****    HEADER    ****/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx1QkFBQSIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKiAgICBIRUFERVIgICAgKioqKi9cclxuXHJcbiJdfQ== */\";","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { HttpClient } from '@angular/common/http';\n\n// COMPONENTS FROM IONIC\nimport { PopoverController } from '@ionic/angular';\nimport { ModalController } from '@ionic/angular';\nimport { IonRouterOutlet } from '@ionic/angular';\n\n// OWN COMPONENTS\nimport { PopoverComponent } from './popover/popover.component';\nimport { DetailComponent } from './detail/detail.component';\nimport { AddComponent } from './add/add.component';\n\n// CLASS FROM PROJECT\nimport { AppComponent } from '../app.component';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n\n  public items: any = []\n\n  constructor(\n    private router: Router, \n    private routerOutlet: IonRouterOutlet,\n    private app: AppComponent,\n    public afDB: AngularFireDatabase, \n    public popoverController: PopoverController, \n    public modalController: ModalController) {\n\n    this.items = this.app.items;\n    this.getItemsFromFirebase();\n  }\n\n  getItems() : any {\n    return this.items;\n  }\n\n  doRefresh(event) {\n    setTimeout(() => {\n      event.target.complete();\n    }, 1000);\n  }\n\n  async presentPopover(ev: any) {\n    const popover = await this.popoverController.create({\n      component: PopoverComponent,\n      componentProps: {\n        \n      },\n      cssClass: 'sort-popover',\n      event: ev,\n      translucent: true\n    });\n    return await popover.present();\n  }\n\n  async presentModal(item: any) {\n    const modal = await this.modalController.create({\n      component: DetailComponent,\n      componentProps: {\n        item : {\n          name:  item.name,\n          category: item.category,\n          price: item.price,\n          stock: item.stock,\n          imgUrl: '../assets/img/marlboro_gold.jpg'\n        },\n        key: item.key,\n        afBD: this.afDB\n      },\n      cssClass: 'my-custom-class'\n    });\n    return await modal.present();\n  }\n\n  async presentAddModal() {\n    const modal = await this.modalController.create({\n      component: AddComponent,\n      componentProps: {\n        afBD: this.afDB\n      },\n      cssClass: '', \n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl\n    });\n    return await  modal.present();\n  }\n\n  getItemsFromFirebase(){ \n    this.afDB.list('produits/').snapshotChanges(['child_added', 'child_removed', 'child_changed']).subscribe(actions => {\n      this.items = [];\n      actions.forEach(action => {\n        let item = action.payload.exportVal();\n        this.items.push({\n          key: action.key,\n          name: item.name,\n          category: item.category,\n          price: item.price,\n          firstPrice: item.firstPrice,\n          stock: item.stock\n        })\n      })\n    })\n  }\n\n  delete(item: any) {\n    this.afDB.list('produits/').remove(item.key);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}